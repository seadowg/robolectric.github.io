<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Robolectric</title>
    <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(["_setAccount", "UA-19269905-1"]);
  _gaq.push(["_trackPageview"]);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? '//ssl' : '//www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
    <link href="../images/favicon-6cf12dec.png" rel="icon" type="image/png" />
    <link href="../stylesheets/application-5b0d8697.css" media="screen" rel="stylesheet" type="text/css" />
    <script src="../javascripts/application-da39a3ee.js" type="text/javascript"></script>
</head>

<body>
    <div id="wrapper">
        <div id="header">
            <ul class="nav navbar-nav pull-right">
    <li>
        <a href='http://robolectric.blogspot.com'>
            <i class='glyphicon glyphicon-book'></i>
            <span>Blog</span>
        </a>
    </li>
    <li>
        <a href='http://groups.google.com/group/robolectric'>
            <i class='glyphicon glyphicon-envelope'></i>
            <span>Mailing List</span>
        </a>
    </li>
    <li>
        <a href='/javadoc/index.html?overview-summary.html'>
            <i class='glyphicon glyphicon-cog'></i>
            <span>API Docs</span>
        </a>
    </li>
</ul>
        </div>

        <div id="sidebar">
            <a href="/"><img class="logo" src="../images/robolectric-7fb6698b.png" /></a><ul class='nav nav-stacked'><li class='nav-header'>Setup</li><li class='nav-item'><a href='/installation/'>Installation</a></li><li class='nav-item'><a href='/quick-start/'>Quick Start</a></li><li class='nav-item'><a href='/eclipse-quick-start/'>Eclipse Quick Start</a></li><li class='nav-item'><a href='/download/'>Downloads</a></li></ul><ul class='nav nav-stacked'><li class='nav-header'>User Guide</li><li class='nav-item'><a href='/getting-started/'>Getting Started</a></li><li class='nav-item'><a href='/starting-components/'>Starting Other Components</a></li><li class='nav-item'><a href='/activity-lifecycle/'>Driving the Activity Lifecycle</a></li><li class='nav-item'><a href='/custom-shadows/'>Creating Custom Shadows</a></li><li class='nav-item'><a href='/apklibs/'>Working with ApkLibs</a></li><li class='nav-item'><a href='/resource-qualifiers/'>Using Qualified Resources</a></li></ul><ul class='nav nav-stacked'><li class='nav-header'>Customizing</li><li class='nav-item'><a href='/extending/'>Extending Robolectric</a></li><li class='nav-item'><a href='/custom-test-runner/'>Custom the Test Runner</a></li><li class='nav-item'><a href='/roboguice/'>Integrating with RoboGuice</a></li></ul><ul class='nav nav-stacked'><li class='nav-header'>Contributing</li><li class='nav-item'><a href='/contributor-guidelines/'>Contributor Guidelines</a></li><li class='nav-item'><a href='/release-notes/'>Release Notes</a></li><li class='nav-item'><a href='/android-jars/'>Real Android JARs</a></li><li class='nav-item'><a href='/resources/'>Other Resources</a></li></ul>
        </div>

        <div id="content">
            <h1>Using Qualified Resources</h1>

<p>As described <a href="http://developer.android.com/guide/topics/resources/providing-resources.html#AlternativeResources">in the android developer docs</a>, resource qualifiers allow you to change how your resources are loaded based on such factors as the language on the device, to the screen size, to whether it is day or night.  While these changes are often tedious to test rigorously (every string has a translation for all supported languages), you may find yourself wishing to run tests in different resource qualified contexts.</p>

<h2>Specifying resources in test</h2>

<p>Specifying a resource qualifier is quite simple: simply add the desired qualifiers to the @Config annotation on your test case or test class, depending on whether you would like to change the resource qualifiers for the whole file, or simply one test.</p>

<p>Given the following resources,</p>

<p><em>values/strings.xml</em></p>
<pre class="highlight xml"><span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"not_overridden"</span><span class="nt">&gt;</span>Not Overridden<span class="nt">&lt;/string&gt;</span>
<span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"overridden"</span><span class="nt">&gt;</span>Unqualified value<span class="nt">&lt;/string&gt;</span>
<span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"overridden_twice"</span><span class="nt">&gt;</span>Unqualified value<span class="nt">&lt;/string&gt;</span>
</pre>
<p><em>values-en/strings.xml</em></p>
<pre class="highlight xml"><span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"overridden"</span><span class="nt">&gt;</span>English qualified value<span class="nt">&lt;/string&gt;</span>
<span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"overridden_twice"</span><span class="nt">&gt;</span>English qualified value<span class="nt">&lt;/string&gt;</span>
</pre>
<p><em>values-en-port/strings.xml</em></p>
<pre class="highlight xml"><span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"overridden_twice"</span><span class="nt">&gt;</span>English portrait qualified value<span class="nt">&lt;/string&gt;</span>
</pre>
<p>this Robolectric test would pass, using the Android resource qualifier resolution rules.</p>
<pre class="highlight java"><span class="nd">@Test</span>
<span class="nd">@Config</span><span class="o">(</span><span class="n">qualifiers</span><span class="o">=</span><span class="s">"en-port"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">thisUsesEnglishAndPortraitResources</span><span class="p">(</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">assertTrue</span><span class="o">(</span><span class="n">Robolectric</span><span class="o">.</span><span class="na">application</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">not_overridden</span><span class="o">).</span><span class="na">equals</span><span class="o">(</span><span class="s">"Not Overridden"</span><span class="o">));</span>
  <span class="n">assertTrue</span><span class="o">(</span><span class="n">Robolectric</span><span class="o">.</span><span class="na">application</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">overridden</span><span class="o">).</span><span class="na">equals</span><span class="o">(</span><span class="s">"English qualified value"</span><span class="o">));</span>
  <span class="n">assertTrue</span><span class="o">(</span><span class="n">Robolectric</span><span class="o">.</span><span class="na">application</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">overridden_twice</span><span class="o">).</span><span class="na">equals</span><span class="o">(</span><span class="s">"English portrait qualified value"</span><span class="o">));</span>
<span class="o">}</span>
</pre>
<p>Multiple qualifiers should be separated by dashes and provided in the order put forth in <a href="http://developer.android.com/guide/topics/resources/providing-resources.html#table2">this list</a>.</p>

        </div>
    </div>

    <div id="footer">
        
    </div>
</body>
</html>